{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nelso\\\\Desktop\\\\Universidade\\\\LI4\\\\LI4.git\\\\trunk\\\\FrontEnd\\\\ConsultaJa\\\\ConsultaJa\\\\ClientApp\\\\src\\\\components\\\\Registar.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport class Registar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.mySubmitHandler = event => {\n      event.preventDefault();\n      alert(\"Falta definir as acoes para os eventos\");\n    };\n\n    this.myChangeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.submitNew = e => {\n      e.preventDefault();\n      axios.post(\"https://localhost:5001/contas\", {\n        body: JSON.stringify({\n          nome: this.state.name,\n          dataNascimento: this.state.dataNascimento,\n          email: this.state.email,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(conta => {\n        this.props.addUserToState(conta);\n        this.props.toggle();\n        alert(\"Novo user \" + conta);\n      }).catch(err => console.log(err));\n    };\n\n    this.submitEdit = e => {\n      e.preventDefault();\n      fetch(\"https://localhost:5001/contas/\".concat(this.state.id), {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          nome: this.state.name,\n          password: this.state.password,\n          email: this.state.email,\n          dataNascimento: this.state.dataNascimento\n        })\n      }).then(() => {\n        this.props.toggle();\n        this.props.updateUserIntoState(this.state.id);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      id: 0,\n      name: '',\n      dataNascimento: null,\n      email: '',\n      morada: '',\n      codigo_postal: '',\n      password: '',\n      nif: '',\n      contactos: '',\n      type: ''\n    };\n  }\n\n  // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.props.user ? this.submitEdit : this.submitNew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \" Registar \", this.state.type), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" Tipo de Registo: \"), React.createElement(\"div\", {\n      className: \"radio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"type\",\n      value: \"Medico\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), \"M\\xE9dico \\u2003\"), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"type\",\n      value: \"Paciente\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), \"Paciente\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Insira o nome:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Insira a data de nascimento:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"dataNascimento\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Insira o email:\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Insira a password:\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Insira a morada:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"morada\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Insira o NIF:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"nif\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Insira a Codigo-Postal:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"codigo_postal\",\n      placeholder: \"XXXX-XXX\",\n      required: true,\n      pattern: \"\\\\d{4}-\\\\d{3}\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Insira os seus contactos:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"contactos\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Registar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }));\n  }\n\n}\nRegistar.displayName = Registar.name;","map":{"version":3,"sources":["C:\\Users\\nelso\\Desktop\\Universidade\\LI4\\LI4.git\\trunk\\FrontEnd\\ConsultaJa\\ConsultaJa\\ClientApp\\src\\components\\Registar.js"],"names":["React","Component","axios","Registar","constructor","props","mySubmitHandler","event","preventDefault","alert","myChangeHandler","nam","target","name","val","value","setState","submitNew","e","post","body","JSON","stringify","nome","state","dataNascimento","email","password","then","res","json","conta","addUserToState","toggle","catch","err","console","log","submitEdit","fetch","id","method","headers","updateUserIntoState","morada","codigo_postal","nif","contactos","type","render","user","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport class Registar extends Component {\r\n    static displayName = Registar.name;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: 0,\r\n            name: '',\r\n            dataNascimento: null,\r\n            email: '',\r\n            morada: '',\r\n            codigo_postal: '',\r\n            password: '',\r\n            nif: '',\r\n            contactos: '',\r\n            type: '',\r\n        };\r\n    }\r\n\r\n\r\n    mySubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        alert(\"Falta definir as acoes para os eventos\");\r\n    }\r\n\r\n    myChangeHandler = (event) => {\r\n        let nam = event.target.name;\r\n        let val = event.target.value;\r\n        this.setState({ [nam]: val });\r\n    }\r\n\r\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\r\n    submitNew = e => {\r\n        e.preventDefault();\r\n        axios.post(`https://localhost:5001/contas`, {\r\n            body: JSON.stringify({\r\n                nome: this.state.name,\r\n                dataNascimento: this.state.dataNascimento,\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .then(conta => {\r\n                this.props.addUserToState(conta);\r\n                this.props.toggle();\r\n                alert(\"Novo user \" + conta);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    submitEdit = e => {\r\n        e.preventDefault();\r\n        fetch(`https://localhost:5001/contas/${this.state.id}`, {\r\n            method: 'put',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                nome: this.state.name,\r\n                password: this.state.password,\r\n                email: this.state.email,\r\n                dataNascimento: this.state.dataNascimento\r\n            })\r\n        })\r\n            .then(() => {\r\n                this.props.toggle();\r\n                this.props.updateUserIntoState(this.state.id);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.props.user ? this.submitEdit : this.submitNew}>\r\n                <h1> Registar {this.state.type}</h1>\r\n                <p> Tipo de Registo: </p>\r\n                <div className=\"radio\">\r\n                <label>\r\n                <input \r\n                    type=\"radio\"\r\n                    name='type'\r\n                    value=\"Medico\"\r\n                    onChange={this.myChangeHandler}\r\n                        />\r\n                        Médico &emsp;\r\n                </label>\r\n                    <b/>\r\n                <label>\r\n                <input\r\n                     type=\"radio\"\r\n                     name='type'\r\n                     value=\"Paciente\"\r\n                     onChange={this.myChangeHandler}\r\n                    />\r\n                    Paciente\r\n                </label>\r\n                </div>\r\n                <p>Insira o nome:</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name='name'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira a data de nascimento:</p>\r\n                <input\r\n                    type='date'\r\n                    name='dataNascimento'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira o email:</p>\r\n                <input\r\n                    type=\"email\"\r\n                    name='email'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira a password:</p>\r\n                <input\r\n                    type=\"password\"\r\n                    name='password'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira a morada:</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name='morada'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira o NIF:</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name='nif'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira a Codigo-Postal:</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name='codigo_postal'\r\n                    placeholder=\"XXXX-XXX\"\r\n                    required pattern=\"\\d{4}-\\d{3}\"\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <p>Insira os seus contactos:</p>\r\n                <input\r\n                    type=\"text\"\r\n                    name='contactos'\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <br />\r\n                <br />\r\n                <input type='submit' value=\"Registar\"/>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}