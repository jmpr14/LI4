{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nelso\\\\Desktop\\\\Universidade\\\\LI4\\\\LI4.git\\\\trunk\\\\FrontEnd\\\\ConsultaJa\\\\ConsultaJa\\\\ClientApp\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Login.css';\nimport { CONTAS_URL } from './Constants';\nimport { PerfilPaciente } from './PerfilPaciente';\nexport var TOKEN_KEY = false;\nexport const isAuthenticated = () => {\n  return TOKEN_KEY;\n};\nexport var userId = '';\nexport const login = (varia, id) => {\n  userId = id;\n  TOKEN_KEY = varia;\n};\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlerLogin = event => {\n      event.preventDefault();\n      axios.get(\"\".concat(CONTAS_URL, \"/login\"), {\n        params: {\n          Email: this.state.email,\n          Password: this.state.password\n        }\n      }).then(response => {\n        alert(\"Successfully logged in!!!\");\n        console.log(response);\n        this.state.valido = true;\n        login(this.state.valido, response.data);\n\n        if (response.data[0] == 'P') {\n          this.props.history.push(\"/perfilPaciente\");\n        }\n      }).catch(error => {\n        alert(\"ERROR! \" + error);\n        console.log(error);\n      });\n    };\n\n    this.mySubmitHandler1 = event => {\n      event.preventDefault();\n\n      if (!this.state.senha) {\n        this.setState({\n          error1: \"Preencha senhas para continuar!\"\n        });\n      } else {\n        try {\n          //alert(\"Falta definir as acoes para os eventos\");\n          this.state.valido = true;\n          login(this.state.valido);\n          this.props.history.push(\"/perfil\");\n        } catch (err) {\n          this.setState({\n            error1: \"Houve um problema com o login, verifique as suas senhas.\"\n          });\n        }\n      }\n    };\n\n    this.myChangeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      valido: false,\n      type: '',\n      senha: '',\n      error: '',\n      error1: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handlerLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \" Login \"), this.state.error && React.createElement(\"p\", {\n      class: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.error), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Insira o email:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"email\",\n      name: \"email\",\n      icon: \"envelope\",\n      placeholder: \"Your e-mail\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Insira a password:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"ENTRAR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))), React.createElement(\"article\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.mySubmitHandler1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \" Login como Admin \"), this.state.error1 && React.createElement(\"p\", {\n      class: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.error1), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Insira a senha de acesso:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      name: \"senha\",\n      placeholder: \"senha\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"ENTRAR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }))));\n  }\n\n}\nLogin.displayName = Login.name;","map":{"version":3,"sources":["C:\\Users\\nelso\\Desktop\\Universidade\\LI4\\LI4.git\\trunk\\FrontEnd\\ConsultaJa\\ConsultaJa\\ClientApp\\src\\components\\Login.js"],"names":["React","Component","axios","CONTAS_URL","PerfilPaciente","TOKEN_KEY","isAuthenticated","userId","login","varia","id","Login","constructor","props","handlerLogin","event","preventDefault","get","params","Email","state","email","Password","password","then","response","alert","console","log","valido","data","history","push","catch","error","mySubmitHandler1","senha","setState","error1","err","myChangeHandler","nam","target","name","val","value","type","render","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './Login.css'\r\nimport { CONTAS_URL } from './Constants';\r\nimport { PerfilPaciente } from './PerfilPaciente';\r\n\r\nexport var TOKEN_KEY = false;\r\nexport const isAuthenticated = () => { return TOKEN_KEY };\r\nexport var userId = '';\r\nexport const login = (varia, id) => {\r\n    userId = id;\r\n    TOKEN_KEY = varia;\r\n};\r\n\r\nexport class Login extends Component {\r\n    static displayName = Login.name;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            valido: false,\r\n            type: '',\r\n            senha: '',\r\n            error: '',\r\n            error1: '',\r\n        };\r\n    }\r\n\r\n    handlerLogin = (event) => {\r\n\r\n        event.preventDefault();\r\n\r\n        axios.get(`${CONTAS_URL}/login`, {\r\n            params: {\r\n                Email: this.state.email,\r\n                Password: this.state.password\r\n            }\r\n        })\r\n            .then(response => {\r\n                alert(\"Successfully logged in!!!\");\r\n                console.log(response);\r\n                this.state.valido = true;\r\n                login(this.state.valido, response.data);\r\n                if (response.data[0] == 'P') {\r\n                    this.props.history.push(\"/perfilPaciente\");\r\n                }\r\n            })\r\n            .catch(error => {\r\n                alert(\"ERROR! \" + error);\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    mySubmitHandler1 = (event) => {\r\n        event.preventDefault();\r\n        if (!this.state.senha) {\r\n            this.setState({ error1: \"Preencha senhas para continuar!\" });\r\n        } else {\r\n            try {\r\n                //alert(\"Falta definir as acoes para os eventos\");\r\n                this.state.valido = true;\r\n                login(this.state.valido);\r\n                this.props.history.push(\"/perfil\");\r\n            } catch (err) {\r\n                this.setState({\r\n                    error1:\r\n                        \"Houve um problema com o login, verifique as suas senhas.\"\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    myChangeHandler = (event) => {\r\n        let nam = event.target.name;\r\n        let val = event.target.value;\r\n        this.setState({ [nam]: val });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section>\r\n                <article>\r\n                    <form onSubmit={this.handlerLogin}>\r\n                <h1> Login </h1>\r\n                {this.state.error && <p class=\"log\">{this.state.error}</p>}\r\n                <br />\r\n                <p>Insira o email:</p>\r\n                <input\r\n                    className=\"form-control\"\r\n                    type=\"email\"\r\n                    name='email'\r\n                    icon=\"envelope\"\r\n                    placeholder=\"Your e-mail\"\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <br />\r\n                <p>Insira a password:</p>\r\n                <input\r\n                    className=\"form-control\"\r\n                    type=\"password\"\r\n                    name='password'\r\n                    placeholder=\"password\"\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <br />\r\n                <br />\r\n                <input type='submit' value=\"ENTRAR\" />\r\n            </form>\r\n            </article>\r\n            <article>\r\n            <form onSubmit={this.mySubmitHandler1}>\r\n                    <h1> Login como Admin </h1>\r\n                    {this.state.error1 && <p class=\"log\">{this.state.error1}</p>}\r\n                    <br />\r\n                    <p>Insira a senha de acesso:</p>\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"password\"\r\n                        name='senha'\r\n                        placeholder=\"senha\"\r\n                        onChange={this.myChangeHandler}\r\n                    />\r\n                    <br />\r\n                    <br />\r\n                    <input type='submit' value=\"ENTRAR\" />\r\n            </form>\r\n            </article>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}