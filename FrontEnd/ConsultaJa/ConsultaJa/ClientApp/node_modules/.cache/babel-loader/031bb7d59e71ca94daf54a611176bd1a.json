{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nelso\\\\Desktop\\\\Universidade\\\\LI4\\\\LI4.git\\\\trunk\\\\FrontEnd\\\\ConsultaJa\\\\ConsultaJa\\\\ClientApp\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport api from './api';\nimport './Login.css';\nexport var TOKEN_KEY = false;\nexport const isAuthenticated = () => {\n  return TOKEN_KEY;\n};\nexport const login = varia => {\n  TOKEN_KEY = varia;\n};\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlerLogin = event => {\n      event.preventDefault();\n      fetch('https://localhost:5001/api/contas').then(response => {\n        alert(\"Sucesso.\");\n      }).catch(error => {\n        alert(\"Credenciais Inv�lidas! \" + error);\n        console.log(error);\n      });\n      fetch('https://localhost:5001/api/contas/login', {\n        params: {\n          Email: this.state.email,\n          Password: this.state.password\n        }\n      }).then(response => {\n        alert(\"Login efetuado com sucesso.\");\n        console.log(response);\n        this.state.valido = true;\n        login(this.state.valido);\n        this.props.history.push(\"/perfil\");\n      }).catch(error => {\n        alert(\"Credenciais Inv�lidas! \" + error);\n        console.log(error);\n      }); //event.preventDefault();\n    };\n\n    this.mySubmitHandler1 = event => {\n      event.preventDefault();\n\n      if (!this.state.senha) {\n        this.setState({\n          error1: \"Preencha senhas para continuar!\"\n        });\n      } else {\n        try {\n          //alert(\"Falta definir as acoes para os eventos\");\n          this.state.valido = true;\n          login(this.state.valido);\n          this.props.history.push(\"/perfil\");\n        } catch (err) {\n          this.setState({\n            error1: \"Houve um problema com o login, verifique as suas senhas.\"\n          });\n        }\n      }\n    };\n\n    this.myChangeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      valido: false,\n      type: '',\n      senha: '',\n      error: '',\n      error1: ''\n    };\n  } //handlerLogin = (event) => {\n  //    event.preventDefault();\n  //    axios.get('https://localhost:49853/login', {\n  //        params: {\n  //            Email: this.state.email,\n  //            Password: this.state.password\n  //        }\n  //    })\n  //        .then(response => {\n  //            alert(\"Login efetuado com sucesso.\");\n  //            console.log(response);\n  //        })\n  //        .catch(response => {\n  //            alert(\"Credenciais Inv�lidas!\");\n  //            console.log(response);\n  //        })\n  //}\n\n\n  render() {\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handlerLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \" Login \"), this.state.error && React.createElement(\"p\", {\n      class: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.error), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Insira o email:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"email\",\n      name: \"email\",\n      icon: \"envelope\",\n      placeholder: \"Your e-mail\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Insira a password:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"ENTRAR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }))), React.createElement(\"article\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.mySubmitHandler1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \" Login como Admin \"), this.state.error1 && React.createElement(\"p\", {\n      class: \"log\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, this.state.error1), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Insira a senha de acesso:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      name: \"senha\",\n      placeholder: \"senha\",\n      onChange: this.myChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"ENTRAR\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }))));\n  }\n\n}\nLogin.displayName = Login.name;","map":{"version":3,"sources":["C:\\Users\\nelso\\Desktop\\Universidade\\LI4\\LI4.git\\trunk\\FrontEnd\\ConsultaJa\\ConsultaJa\\ClientApp\\src\\components\\Login.js"],"names":["React","Component","axios","api","TOKEN_KEY","isAuthenticated","login","varia","Login","constructor","props","handlerLogin","event","preventDefault","fetch","then","response","alert","catch","error","console","log","params","Email","state","email","Password","password","valido","history","push","mySubmitHandler1","senha","setState","error1","err","myChangeHandler","nam","target","name","val","value","type","render","displayName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,OAAO,aAAP;AAEA,OAAO,IAAIC,SAAS,GAAG,KAAhB;AACP,OAAO,MAAMC,eAAe,GAAG,MAAM;AAAE,SAAOD,SAAP;AAAkB,CAAlD;AACP,OAAO,MAAME,KAAK,GAAIC,KAAD,IAAW;AAE5BH,EAAAA,SAAS,GAAGG,KAAZ;AACH,CAHM;AAKP,OAAO,MAAMC,KAAN,SAAoBP,SAApB,CAA8B;AAGjCQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgCnBC,YAhCmB,GAgCHC,KAAD,IAAW;AAEtBA,MAAAA,KAAK,CAACC,cAAN;AAEAC,MAAAA,KAAK,CAAC,mCAAD,CAAL,CACKC,IADL,CACUC,QAAQ,IAAI;AACdC,QAAAA,KAAK,CAAC,UAAD,CAAL;AACH,OAHL,EAIKC,KAJL,CAIWC,KAAK,IAAI;AACZF,QAAAA,KAAK,CAAC,4BAA4BE,KAA7B,CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAPL;AASAL,MAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC7CQ,QAAAA,MAAM,EAAE;AACJC,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,KADd;AAEJC,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWG;AAFjB;AADqC,OAA5C,CAAL,CAMKZ,IANL,CAMUC,QAAQ,IAAI;AACdC,QAAAA,KAAK,CAAC,6BAAD,CAAL;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,aAAKQ,KAAL,CAAWI,MAAX,GAAoB,IAApB;AACAtB,QAAAA,KAAK,CAAC,KAAKkB,KAAL,CAAWI,MAAZ,CAAL;AACA,aAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACH,OAZL,EAaKZ,KAbL,CAaWC,KAAK,IAAI;AACZF,QAAAA,KAAK,CAAC,4BAA4BE,KAA7B,CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAhBL,EAbsB,CA8BtB;AACH,KA/DkB;;AAAA,SAoFnBY,gBApFmB,GAoFCnB,KAAD,IAAW;AAC1BA,MAAAA,KAAK,CAACC,cAAN;;AACA,UAAI,CAAC,KAAKW,KAAL,CAAWQ,KAAhB,EAAuB;AACnB,aAAKC,QAAL,CAAc;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAd;AACH,OAFD,MAEO;AACH,YAAI;AACA;AACA,eAAKV,KAAL,CAAWI,MAAX,GAAoB,IAApB;AACAtB,UAAAA,KAAK,CAAC,KAAKkB,KAAL,CAAWI,MAAZ,CAAL;AACA,eAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACH,SALD,CAKE,OAAOK,GAAP,EAAY;AACV,eAAKF,QAAL,CAAc;AACVC,YAAAA,MAAM,EACF;AAFM,WAAd;AAIH;AACJ;AACJ,KArGkB;;AAAA,SAuGnBE,eAvGmB,GAuGAxB,KAAD,IAAW;AACzB,UAAIyB,GAAG,GAAGzB,KAAK,CAAC0B,MAAN,CAAaC,IAAvB;AACA,UAAIC,GAAG,GAAG5B,KAAK,CAAC0B,MAAN,CAAaG,KAAvB;AACA,WAAKR,QAAL,CAAc;AAAE,SAACI,GAAD,GAAOG;AAAT,OAAd;AACH,KA3GkB;;AAEf,SAAKhB,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETE,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,MAAM,EAAE,KAHC;AAITc,MAAAA,IAAI,EAAE,EAJG;AAKTV,MAAAA,KAAK,EAAE,EALE;AAMTb,MAAAA,KAAK,EAAE,EANE;AAOTe,MAAAA,MAAM,EAAE;AAPC,KAAb;AASH,GAdgC,CAgBjC;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA+EAS,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAKhC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADI,EAEH,KAAKa,KAAL,CAAWL,KAAX,IAAoB;AAAG,MAAA,KAAK,EAAC,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgB,KAAKK,KAAL,CAAWL,KAA3B,CAFjB,EAGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHI,EAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJI,EAKJ;AACI,MAAA,SAAS,EAAC,cADd;AAEI,MAAA,IAAI,EAAC,OAFT;AAGI,MAAA,IAAI,EAAC,OAHT;AAII,MAAA,IAAI,EAAC,UAJT;AAKI,MAAA,WAAW,EAAC,aALhB;AAMI,MAAA,QAAQ,EAAE,KAAKiB,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALI,EAaJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbI,EAcJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAdI,EAeJ;AACI,MAAA,SAAS,EAAC,cADd;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,IAAI,EAAC,UAHT;AAII,MAAA,WAAW,EAAC,UAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKA,eALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfI,EAsBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBI,EAuBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBI,EAwBJ;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBI,CADJ,CADJ,EA6BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,QAAQ,EAAE,KAAKL,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADR,EAES,KAAKP,KAAL,CAAWU,MAAX,IAAqB;AAAG,MAAA,KAAK,EAAC,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgB,KAAKV,KAAL,CAAWU,MAA3B,CAF9B,EAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,EAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAJR,EAKQ;AACI,MAAA,SAAS,EAAC,cADd;AAEI,MAAA,IAAI,EAAC,UAFT;AAGI,MAAA,IAAI,EAAC,OAHT;AAII,MAAA,WAAW,EAAC,OAJhB;AAKI,MAAA,QAAQ,EAAE,KAAKE,eALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALR,EAYQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZR,EAaQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbR,EAcQ;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdR,CADA,CA7BA,CADJ;AAkDH;;AAnKgC;AAAxB5B,K,CACFoC,W,GAAcpC,KAAK,CAAC+B,I","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport api from './api'\r\n\r\nimport './Login.css'\r\n\r\nexport var TOKEN_KEY = false;\r\nexport const isAuthenticated = () => { return TOKEN_KEY };\r\nexport const login = (varia) => {\r\n    \r\n    TOKEN_KEY = varia;\r\n};\r\n\r\nexport class Login extends Component {\r\n    static displayName = Login.name;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            valido: false,\r\n            type: '',\r\n            senha: '',\r\n            error: '',\r\n            error1: '',\r\n        };\r\n    }\r\n\r\n    //handlerLogin = (event) => {\r\n    //    event.preventDefault();\r\n\r\n    //    axios.get('https://localhost:49853/login', {\r\n    //        params: {\r\n    //            Email: this.state.email,\r\n    //            Password: this.state.password\r\n    //        }\r\n    //    })\r\n    //        .then(response => {\r\n    //            alert(\"Login efetuado com sucesso.\");\r\n    //            console.log(response);\r\n    //        })\r\n    //        .catch(response => {\r\n    //            alert(\"Credenciais Inv�lidas!\");\r\n    //            console.log(response);\r\n    //        })\r\n    //}\r\n\r\n    handlerLogin = (event) => {\r\n\r\n        event.preventDefault();\r\n\r\n        fetch('https://localhost:5001/api/contas')\r\n            .then(response => {\r\n                alert(\"Sucesso.\");\r\n            })\r\n            .catch(error => {\r\n                alert(\"Credenciais Inv�lidas! \" + error);\r\n                console.log(error);\r\n            })\r\n\r\n        fetch('https://localhost:5001/api/contas/login', {\r\n            params: {\r\n                Email: this.state.email,\r\n                Password: this.state.password\r\n            }\r\n        })\r\n            .then(response => {\r\n                alert(\"Login efetuado com sucesso.\");\r\n                console.log(response);\r\n                this.state.valido = true;\r\n                login(this.state.valido);\r\n                this.props.history.push(\"/perfil\");\r\n            })\r\n            .catch(error => {\r\n                alert(\"Credenciais Inv�lidas! \" + error);\r\n                console.log(error);\r\n            })\r\n        //event.preventDefault();\r\n    }\r\n\r\n    //mySubmitHandler = (event) => {\r\n    //    event.preventDefault();\r\n    //    if (!this.state.email || !this.state.password) {\r\n    //        this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\r\n    //    } else {\r\n    //        try {\r\n    //            //alert(\"Falta definir as acoes para os eventos\");\r\n    //            this.state.valido = true;\r\n    //            login(this.state.valido);\r\n    //            this.props.history.push(\"/perfil\");\r\n    //        } catch (err) {\r\n    //            this.setState({\r\n    //                error:\r\n    //                    \"Houve um problema com o login, verifique suas credenciais. T.T\"\r\n    //            });\r\n    //        }\r\n    //    }\r\n    //}\r\n\r\n    mySubmitHandler1 = (event) => {\r\n        event.preventDefault();\r\n        if (!this.state.senha) {\r\n            this.setState({ error1: \"Preencha senhas para continuar!\" });\r\n        } else {\r\n            try {\r\n                //alert(\"Falta definir as acoes para os eventos\");\r\n                this.state.valido = true;\r\n                login(this.state.valido);\r\n                this.props.history.push(\"/perfil\");\r\n            } catch (err) {\r\n                this.setState({\r\n                    error1:\r\n                        \"Houve um problema com o login, verifique as suas senhas.\"\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    myChangeHandler = (event) => {\r\n        let nam = event.target.name;\r\n        let val = event.target.value;\r\n        this.setState({ [nam]: val });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section>\r\n                <article>\r\n                    <form onSubmit={this.handlerLogin}>\r\n                <h1> Login </h1>\r\n                {this.state.error && <p class=\"log\">{this.state.error}</p>}\r\n                <br />\r\n                <p>Insira o email:</p>\r\n                <input\r\n                    className=\"form-control\"\r\n                    type=\"email\"\r\n                    name='email'\r\n                    icon=\"envelope\"\r\n                    placeholder=\"Your e-mail\"\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <br />\r\n                <p>Insira a password:</p>\r\n                <input\r\n                    className=\"form-control\"\r\n                    type=\"password\"\r\n                    name='password'\r\n                    placeholder=\"password\"\r\n                    onChange={this.myChangeHandler}\r\n                />\r\n                <br />\r\n                <br />\r\n                <input type='submit' value=\"ENTRAR\" />\r\n            </form>\r\n            </article>\r\n            <article>\r\n            <form onSubmit={this.mySubmitHandler1}>\r\n                    <h1> Login como Admin </h1>\r\n                    {this.state.error1 && <p class=\"log\">{this.state.error1}</p>}\r\n                    <br />\r\n                    <p>Insira a senha de acesso:</p>\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"password\"\r\n                        name='senha'\r\n                        placeholder=\"senha\"\r\n                        onChange={this.myChangeHandler}\r\n                    />\r\n                    <br />\r\n                    <br />\r\n                    <input type='submit' value=\"ENTRAR\" />\r\n            </form>\r\n            </article>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}